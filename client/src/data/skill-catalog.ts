export interface CatalogSkill {
  name: string;
  description: string;
  instructions: string;
  context: "main" | "fork";
  allowedTools: string[];
  category: string;
}

export const skillCatalog: CatalogSkill[] = [
  {
    name: "code-review",
    description: "Reviews code for bugs, security issues, and best practices",
    instructions: "Review the provided code thoroughly. Check for:\n- Bugs and logic errors\n- Security vulnerabilities\n- Performance issues\n- Code style and naming conventions\n- Missing error handling\n\nProvide specific, actionable feedback with line references.",
    context: "main",
    allowedTools: ["Read", "Glob", "Grep"],
    category: "Code Quality",
  },
  {
    name: "test-writer",
    description: "Generates comprehensive unit and integration tests",
    instructions: "Write thorough tests for the provided code. Include:\n- Unit tests for individual functions\n- Edge cases and error conditions\n- Integration tests where appropriate\n- Clear test descriptions\n\nUse the project's existing test framework and patterns.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep", "Bash"],
    category: "Testing",
  },
  {
    name: "documentation",
    description: "Generates documentation, READMEs, and API docs",
    instructions: "Generate clear, comprehensive documentation:\n- Use markdown formatting\n- Include code examples\n- Document parameters, return types, and exceptions\n- Add usage examples\n- Keep language concise and accessible",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "Documentation",
  },
  {
    name: "refactor",
    description: "Suggests and applies code improvements",
    instructions: "Analyze the code and suggest improvements:\n- Reduce complexity and duplication\n- Improve naming and readability\n- Extract functions/methods where appropriate\n- Apply SOLID principles\n- Preserve existing behavior\n\nExplain each change and why it improves the code.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "Code Quality",
  },
  {
    name: "debug",
    description: "Systematically diagnoses and fixes bugs",
    instructions: "Debug the reported issue:\n1. Reproduce the problem\n2. Identify the root cause (not just symptoms)\n3. Propose a fix\n4. Verify the fix doesn't introduce regressions\n\nExplain your reasoning at each step.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep", "Bash"],
    category: "Debugging",
  },
  {
    name: "security-audit",
    description: "Scans code for security vulnerabilities",
    instructions: "Perform a security review:\n- Check for OWASP Top 10 vulnerabilities\n- Identify injection risks (SQL, XSS, command)\n- Review authentication and authorization\n- Check for sensitive data exposure\n- Verify input validation\n\nRate each finding by severity (Critical/High/Medium/Low).",
    context: "fork",
    allowedTools: ["Read", "Glob", "Grep"],
    category: "Security",
  },
  {
    name: "api-design",
    description: "Designs and documents REST API endpoints",
    instructions: "Design API endpoints following REST best practices:\n- Use proper HTTP methods and status codes\n- Design consistent URL patterns\n- Define request/response schemas\n- Include error response formats\n- Add authentication requirements\n- Write OpenAPI/Swagger documentation",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "Architecture",
  },
  {
    name: "performance",
    description: "Identifies and fixes performance bottlenecks",
    instructions: "Analyze code for performance issues:\n- Identify N+1 queries and unnecessary DB calls\n- Find memory leaks and excessive allocations\n- Check for blocking operations\n- Suggest caching strategies\n- Recommend algorithmic improvements\n\nProvide benchmarks or estimates where possible.",
    context: "fork",
    allowedTools: ["Read", "Glob", "Grep", "Bash"],
    category: "Performance",
  },
  {
    name: "typescript-helper",
    description: "Helps with TypeScript types, generics, and patterns",
    instructions: "Help with TypeScript:\n- Fix type errors\n- Design proper type hierarchies\n- Write generic utility types\n- Use discriminated unions and template literals\n- Apply proper type narrowing\n\nExplain the type system concepts involved.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "TypeScript",
  },
  {
    name: "git-helper",
    description: "Assists with git operations, commits, and PRs",
    instructions: "Help with git workflows:\n- Write clear commit messages\n- Resolve merge conflicts\n- Create and manage branches\n- Review PR diffs\n- Suggest git best practices\n\nAlways explain what each git command does.",
    context: "main",
    allowedTools: ["Read", "Glob", "Grep", "Bash"],
    category: "DevOps",
  },
  {
    name: "database-design",
    description: "Designs schemas, writes queries, and optimizes databases",
    instructions: "Help with database design:\n- Design normalized schemas\n- Write efficient queries\n- Add proper indexes\n- Plan migrations\n- Optimize slow queries\n\nConsider scalability and data integrity.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "Architecture",
  },
  {
    name: "accessibility",
    description: "Audits UI for WCAG compliance and accessibility",
    instructions: "Audit components for accessibility:\n- Check ARIA attributes and roles\n- Verify keyboard navigation\n- Review color contrast ratios\n- Check screen reader compatibility\n- Ensure form labels and error states\n\nReference WCAG 2.1 guidelines.",
    context: "fork",
    allowedTools: ["Read", "Glob", "Grep"],
    category: "Design",
  },
  {
    name: "migration",
    description: "Helps migrate between frameworks or versions",
    instructions: "Guide the migration process:\n1. Analyze current dependencies and patterns\n2. Map old APIs to new equivalents\n3. Create a step-by-step migration plan\n4. Handle breaking changes\n5. Update tests and configuration\n\nPreserve functionality while modernizing.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep", "Bash"],
    category: "Migration",
  },
  {
    name: "css-cleanup",
    description: "Cleans up and organizes CSS/styling code",
    instructions: "Clean up styling code:\n- Remove unused CSS classes\n- Consolidate duplicate styles\n- Convert to design system tokens\n- Improve responsive design\n- Organize utility classes\n\nMaintain visual consistency.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "Design",
  },
  {
    name: "error-handling",
    description: "Adds robust error handling to code",
    instructions: "Improve error handling:\n- Add try/catch blocks where needed\n- Create custom error classes\n- Add user-friendly error messages\n- Log errors for debugging\n- Handle edge cases gracefully\n\nDon't over-handle â€” only add error handling where it's needed.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "Code Quality",
  },
  {
    name: "docker-setup",
    description: "Creates Docker configurations and compose files",
    instructions: "Set up Docker:\n- Write optimized Dockerfiles\n- Create docker-compose.yml\n- Configure multi-stage builds\n- Set up health checks\n- Handle environment variables\n\nFollow Docker best practices for image size and security.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "DevOps",
  },
  {
    name: "ci-cd",
    description: "Sets up CI/CD pipelines for automated testing and deployment",
    instructions: "Configure CI/CD:\n- Set up GitHub Actions / GitLab CI\n- Add build, test, and deploy stages\n- Configure caching for dependencies\n- Add environment-specific configs\n- Set up notifications\n\nKeep pipelines fast and reliable.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "DevOps",
  },
  {
    name: "code-explainer",
    description: "Explains complex code in beginner-friendly language",
    instructions: "Explain the code clearly:\n- Break down complex logic step by step\n- Use analogies where helpful\n- Explain the \"why\" not just the \"what\"\n- Highlight important patterns\n- Suggest further reading\n\nAdjust complexity to the reader's level.",
    context: "fork",
    allowedTools: ["Read", "Glob", "Grep"],
    category: "Learning",
  },
  {
    name: "regex-helper",
    description: "Writes, explains, and tests regular expressions",
    instructions: "Help with regular expressions:\n- Write correct regex patterns\n- Explain each part of the pattern\n- Provide test cases\n- Suggest alternatives when regex is overkill\n- Handle edge cases\n\nAlways test with multiple inputs.",
    context: "fork",
    allowedTools: ["Read", "Glob", "Grep"],
    category: "Utilities",
  },
  {
    name: "dependency-audit",
    description: "Reviews and updates project dependencies",
    instructions: "Audit project dependencies:\n- Check for outdated packages\n- Identify security vulnerabilities\n- Find unused dependencies\n- Suggest lighter alternatives\n- Plan safe upgrade paths\n\nConsider compatibility and breaking changes.",
    context: "fork",
    allowedTools: ["Read", "Glob", "Grep", "Bash"],
    category: "Maintenance",
  },
  {
    name: "react-patterns",
    description: "Applies React best practices and modern patterns",
    instructions: "Apply React best practices:\n- Use proper hooks patterns\n- Implement component composition\n- Optimize re-renders with memo/useMemo\n- Handle state management correctly\n- Write accessible components\n\nFollow the latest React conventions.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "Frontend",
  },
  {
    name: "env-setup",
    description: "Helps set up development environment and tooling",
    instructions: "Set up the development environment:\n- Configure ESLint and Prettier\n- Set up TypeScript config\n- Configure build tools\n- Add git hooks\n- Create .env templates\n\nDocument the setup process clearly.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep", "Bash"],
    category: "DevOps",
  },
  {
    name: "data-validation",
    description: "Adds input validation using Zod, Yup, or similar",
    instructions: "Add data validation:\n- Define validation schemas\n- Add runtime type checking\n- Create reusable validators\n- Handle validation errors gracefully\n- Validate at system boundaries\n\nUse the project's preferred validation library.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "Code Quality",
  },
  {
    name: "logging",
    description: "Sets up structured logging and monitoring",
    instructions: "Implement logging:\n- Add structured log levels (debug, info, warn, error)\n- Include context in log messages\n- Set up log rotation\n- Add request/response logging\n- Configure monitoring alerts\n\nDon't log sensitive data.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "Monitoring",
  },
  {
    name: "cleanup",
    description: "Removes dead code, unused imports, and TODOs",
    instructions: "Clean up the codebase:\n- Remove unused imports and variables\n- Delete dead code and commented-out blocks\n- Resolve or document TODOs\n- Remove empty files\n- Clean up console.log statements\n\nBe careful not to remove code that's used dynamically.",
    context: "main",
    allowedTools: ["Read", "Write", "Edit", "Glob", "Grep"],
    category: "Maintenance",
  },
];

export const skillCategories = Array.from(new Set(skillCatalog.map((s) => s.category))).sort();
